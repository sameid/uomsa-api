function accepts(charset) {
  return require('../')({
    headers: {
      'accept-charset': charset || ''
    ***REMOVED***
  ***REMOVED***)
***REMOVED***

describe('accepts.charsets()', function(){
  describe('with no arguments', function(){
    describe('when Accept-Charset is populated', function(){
      it('should return accepted types', function(){
        var accept = accepts('utf-8, iso-8859-1;q=0.2, utf-7;q=0.5');
        accept.charsets().should.eql(['utf-8', 'utf-7', 'iso-8859-1']);
      ***REMOVED***)
    ***REMOVED***)

    describe('when Accept-Charset is not populated', function(){
      it('should return an empty array', function(){
        var accept = accepts();
        accept.charsets().should.eql([]);
      ***REMOVED***)
    ***REMOVED***)
  ***REMOVED***)

  describe('with multiple arguments', function(){
    describe('when Accept-Charset is populated', function(){
      describe('if any types match', function(){
        it('should return the best fit', function(){
          var accept = accepts('utf-8, iso-8859-1;q=0.2, utf-7;q=0.5');
          accept.charsets('utf-7', 'utf-8').should.equal('utf-8');
        ***REMOVED***)
      ***REMOVED***)

      describe('if no types match', function(){
        it('should return false', function(){
          var accept = accepts('utf-8, iso-8859-1;q=0.2, utf-7;q=0.5');
          accept.charsets('utf-16').should.be.false;
        ***REMOVED***)
      ***REMOVED***)
    ***REMOVED***)

    describe('when Accept-Charset is not populated', function(){
      it('should return the first type', function(){
        var accept = accepts();
        accept.charsets('utf-7', 'utf-8').should.equal('utf-7');
      ***REMOVED***)
    ***REMOVED***)
  ***REMOVED***)

  describe('with an array', function(){
    it('should return the best fit', function(){
      var accept = accepts('utf-8, iso-8859-1;q=0.2, utf-7;q=0.5');
      accept.charsets(['utf-7', 'utf-8']).should.equal('utf-8');
    ***REMOVED***)
  ***REMOVED***)
***REMOVED***)
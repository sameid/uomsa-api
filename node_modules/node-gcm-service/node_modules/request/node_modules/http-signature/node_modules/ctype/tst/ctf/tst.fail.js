/*
 * Test several conditions that should always cause us to throw.
 */
var mod_assert = require('assert');
var mod_ctype = require('../../ctype.js');

var cases = [
{ json: { ***REMOVED***, msg: 'bad JSON - no metadata or data' ***REMOVED***,
{ json: { metadata: {***REMOVED*** ***REMOVED***, msg: 'bad JSON - bad metadata section' ***REMOVED***,
{ json: { metadata: { 'JSON version': [] ***REMOVED*** ***REMOVED***,
    msg: 'bad JSON - bad JSON version' ***REMOVED***,
{ json: { metadata: { 'JSON version': 2 ***REMOVED*** ***REMOVED***,
    msg: 'bad JSON - bad JSON version' ***REMOVED***,
{ json: { metadata: { 'JSON version': '100.20' ***REMOVED*** ***REMOVED***,
    msg: 'bad JSON - bad JSON version' ***REMOVED***,
{ json: { metadata: { 'JSON version': '1.0' ***REMOVED*** ***REMOVED***,
    msg: 'missing data section' ***REMOVED***,
{ json: { metadata: { 'JSON version': '1.0' ***REMOVED***, data: 1 ***REMOVED***,
    msg: 'invalid data section' ***REMOVED***,
{ json: { metadata: { 'JSON version': '1.0' ***REMOVED***, data: 1.1 ***REMOVED***,
    msg: 'invalid data section' ***REMOVED***,
{ json: { metadata: { 'JSON version': '1.0' ***REMOVED***, data: '1.1' ***REMOVED***,
    msg: 'invalid data section' ***REMOVED***,
{ json: { metadata: { 'JSON version': '1.0' ***REMOVED***, data: {***REMOVED*** ***REMOVED***,
    msg: 'invalid data section' ***REMOVED***
];

function test()
{
	var ii;

	for (ii = 0; ii < cases.length; ii++) {
		mod_assert.throws(function () {
		    mod_ctype.parseCTF(cases[ii].json);
	***REMOVED*** Error, cases[ii].msg);
***REMOVED***
***REMOVED***

test();
